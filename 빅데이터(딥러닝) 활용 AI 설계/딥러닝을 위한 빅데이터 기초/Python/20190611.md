---
typora-copy-images-to: ./
---

# 20190611

### Sort

```python
#Code05-01 Sort.py
import random
dataList = [random.randint(1, 99) for _ in range(20)]
print(dataList)

## Selection Sort ##
for i in range(0, len(dataList) - 1) :
    for k in range(i + 1, len(dataList)) :
        if dataList[i] > dataList[k] :
            # tmp = dataList[i]
            # dataList[i] = dataList[k]
            # dataList[k] = tmp
            dataList[i], dataList[k] = dataList[k], dataList[i]
print(dataList)

## Bubble Sort ##
for i in range(0, len(dataList) - 1) :
    change = False
    for k in range(0, len(dataList) - i - 1) :
        if dataList[k] > dataList[k + 1] :
            dataList[k], dataList[k + 1] = dataList[k + 1], dataList[k]
            change = True
    if change == False : # dataList가 정렬된 상태
        break;
print(dataList)
```

----

##### 파이썬 for Beginner P.291 윈도 프로그래밍 기본 위젯 활용

```python
#Code05-02 GUI 02.py
from tkinter import *
from tkinter import messagebox
def clickButton() :
    messagebox.showinfo("요기 제목", "요기 내용")

window = Tk() # root = Tk()

label1 = Label(window, text = "python 공부 중") # Label(부모 - 객체를 붙일 창, option) 객체 생성
label2 = Label(window, text = "python 공부 중", font = ("궁서체", 30),fg = "blue")
label3 = Label(window, text = "python 공부 중", bg = "red", width = 20, height = 5, anchor = SE)

photo = PhotoImage(file = "images\Pet_GIF\Pet_GIF(128x128)/cat02_128.gif")
label4 = Label(window, image = photo)
button1 = Button(window, text = "나를 눌러줘", command = clickButton)
button2 = Button(window, image = photo, command = clickButton)

label1.pack(side = LEFT) # 생성한 객체를 붙인다
label2.pack(side = RIGHT)
label3.pack()
label4.pack()
button1.pack()
button2.pack()
window.mainloop()
```

---

* jpg, jpeg

  web img로 사용하기 위해 손실 압축된 img 파일

  컴퓨터 비전에서는 잘 쓰이지 않는다

* png

  비손실 압축

* bmp

  압축X, 데이터의 크기가 크다

* tiff, tif

  비손실

  컴퓨터 비전에서 많이 사용된다

* gif

  python은 gif만 지원. 나머지는 외부 라이브러리 필요

---

경로 주의할 점

- 파일 경로에 한글, 띄어쓰기 사용하기 않기
- 경로에 바탕화면을 사용하는 경우, 보안상의 이유로 사용하지 못할 수도 있다

---

**함수 명명**

1. 소문자로 시작 - class는 대문자로 시작
2. 동사로 시작

---

**콜백함수**(= 리스너 Listener)

현재는 실행X. 실행될 준비만 된 상태. 특정상황(= 이벤트 = 클릭, 시간, ... )이 되면 실행

괄호가 붙지 않는다. 이름만 지정

---

##### 파이썬 for Beginner P.304 이벤트

```python
#Code05-04 Event.py
from tkinter import *
from tkinter import messagebox
## 전역변수 선언부 ##

## 함수 선언부 ##
def click(event) :
    txt = ""
    if event.num == 1 : # 왼쪽 버튼
        txt += "왼쪽버튼 : "
    elif event.num == 3 : # 오른쪽 버튼
        txt += "오른쪽버튼 : "
    else :
        txt += "가운데 버튼 : "
    txt += str(event.x) + ", " + str(event.y)
    messagebox.showinfo("요기 제목", txt)

def keyPress(event) :
    messagebox.showinfo("요기 제목", chr(event.keycode))

## 메인 코드 ##
window = Tk()
window.geometry("500x300")

window.bind("<Button>", click)

photo = PhotoImage(file = "images\Pet_GIF\Pet_GIF(128x128)/cat02_128.gif")
label1 = Label(window, image = photo)

# window.bind("<Key>", keyPress)
window.bind("a", keyPress)

label1.pack(expand = 1, anchor = CENTER)
window.mainloop()
```

##### 파이썬 for Beginner P.310 메뉴

```python
#Code05-05 Menu.py
from tkinter import *
from tkinter import messagebox
## 전역변수 선언부 ##

## 함수 선언부 ##
def fileClick() :
    messagebox.showinfo("요기 제목", "요기 내용")
## 메인 코드 ##
window = Tk()
window.geometry("500x300")
mainMenu = Menu(window)
window.config(menu = mainMenu)

fileMenu = Menu(mainMenu) # mainMenu에 fileMenu를 붙인다

mainMenu.add_cascade(label = "파일", menu = fileMenu)
fileMenu.add_cascade(label = "열기", command = fileClick)
fileMenu.add_separator()
fileMenu.add_cascade(label = "종료", command = None)

window.mainloop()
```

---

##### 파이썬 for Beginner P.358 디렉터리의 목록 모두 보기

```python
#Code05-05 파일목록.py
import os
for dirName, subDirList, fnames in os.walk("images\\") :
    for fname in fnames :
        if os.path.splitext(fname)[1].upper() == ".GIF" :
            print(os.path.join(dirName, fname))
```

---

##### 파이썬 for Beginner P.302 완성

```python
#Code05-03 GIF Viewer.py
#frame 참고 : http://openbookproject.net/py4fun/gui/tkPhone.html

from tkinter import *
from tkinter import messagebox
from tkinter.simpledialog import *
from tkinter.filedialog import *
import os

## 전역변수 선언부 ##
dirList = []
num = 0 # 현재 사진 순번

## 함수 선언부 ##
def reloadImg(num) :
    photo = PhotoImage(file=dirList[num])
    pLabel.configure(image=photo)  # 기존에 존재하는 label의 속성을 바꿈
    pLabel.photo = photo

    label1.configure(text=dirList[num].split("\\")[-1])

def clickPrev() :
    global num
    num -= 1
    if num < 0 :
        num = len(dirList) - 1
    reloadImg(num)

def clickNext() :
    global num
    num += 1
    if num >= len(dirList) :
        num = 0
    reloadImg(num)

def keyPress(event) :
    global num

    # messagebox.showinfo("Title", event.keycode)

    if event.keycode == 36 : # Home key 입력
        num = 0
        reloadImg(num)

    elif event.keycode == 35 : # End key 입력
        num = len(dirList) - 1
        reloadImg(num)

    elif event.keycode == 37:  # ← 입력
        clickPrev()

    elif event.keycode == 39:  # → 입력
        clickNext()

    # 숫자 key 입력 씨, 현재 그림 + 숫자 위치 : 넘치면 마지막 그림
    elif event.keycode in range(97, 106) : # 97  = 1, 105 = 9
        num += event.keycode - 96

        if num >= len(dirList):
            num = len(dirList) -1
            reloadImg(num)

def hopImage(count = 0) :
    if count == 0 :
        count = askinteger("건너뛸 수", "원하시는 숫자를 입력해주세요 ", )
    for _ in range(count) :
        clickNext()

def selectFile() :
    filename = askopenfilename(parent = window, filetypes = (("GIF파일", "*.gif;*.raw"), ("모든파일", "*.*")))
    fnameLabel.configure(text = "선택한 파일 이름 : " + str(filename).split("/")[-1])

## 메인 코드 ##
window = Tk()
window.title("GIF 사진 뷰어 (ver 0.01)")
window.geometry("500x320")
window.resizable(width = True, height = True)

# folder = askdirectory(parent = window)
# for dirName, subDirList, fnames in os.walk(folder) :
for dirName, subDirList, fnames in os.walk("images\\") :
    for fname in fnames :
        if os.path.splitext(fname)[1].upper() == ".GIF" :
            dirList.append(os.path.join(dirName, fname))

#메뉴 생성
mainMenu = Menu(window)
window.config(menu = mainMenu)

moveMenu1 = Menu(mainMenu)
moveMenu2 = Menu(mainMenu)
mainMenu.add_cascade(label = "이동", menu = moveMenu1)
mainMenu.add_cascade(label = "건너뛰기", menu = moveMenu2)

moveMenu1.add_cascade(label = "앞으로", command = clickNext)
moveMenu1.add_cascade(label = "뒤로", command = clickPrev)

# 매개변수를 넘기고싶을 때 lambda 함수 사용
moveMenu2.add_cascade(label = "1", command = lambda : hopImage(1))
moveMenu2.add_cascade(label = "3", command = lambda : hopImage(3))
moveMenu2.add_cascade(label = "5", command = lambda : hopImage(5))
moveMenu2.add_cascade(label = "원하는 수", command = hopImage)
moveMenu2.add_separator()
moveMenu2.add_command(label = "파일 선택", command = selectFile)

#버튼 프레임 생성
frame1 = Frame(window)
frame1.pack()

label1 = Label(frame1, text = dirList[num].split("\\")[-1])
btnPrev = Button(frame1, text = "이전", command = clickPrev)
btnNext = Button(frame1, text = "다음", command = clickNext)

btnPrev.grid(row = 0, column = 0)
label1.grid(row = 0, column = 1)
btnNext.grid(row = 0, column = 2)

#이미지 프레임 생성
frame2 = Frame(window)
frame2.pack()

photo = PhotoImage(file = dirList[num])
pLabel = Label(frame2, image = photo)
pLabel.pack(expand = 1, anchor = CENTER)

#키보드 입력 이벤트 처리
window.bind("<Key>", keyPress)

fnameLabel = Label(frame2, text = "선택한 파일 이름 : " + dirList[num].split("\\")[-1])
fnameLabel.pack()

window.mainloop()
```

---

##### 파이썬 for Beginner P.333, 344 파일 입출력의 기본

```python
#Code05-06 File처리1.py
# 1. 파일 열기
inFp = open("c:/windows/win.ini", "r")
outFp = open("images\\new_win.ini", "w")

# 2. 파일 읽기/ 쓰기
while True : # data가 대용량인 경우, 한 줄씩 불러오는 것이 좋다
    inStr = inFp.readline()
    if not inStr:
        break
    #print(inStr, end = "")
    outFp.write(inStr)
# inStrList = inFp.readlines()
# print(inStrList)
#
# for line in inStrList :
#     print(line, end = "")

# 3. 파일 닫기
inFp.close()
outFp.close()
```

### 파일

1. Text 파일 = ASCII 파일

   메모장으로 열 수 있는 파일 ex ) *.txt, *.py, ...

   메모장 = 1byte단위로 데이터를 출력

2. Binary 파일

   text 파일 이외의 파일

   bit 단위로 데이터 저장

---

###### 파이썬 for Beginner P.225 문자열 기본

```python
>>> ss = "안녕하시렵니까?"
>>> len(ss)
8
>> for ch in ss :
    print(ch)
안
녕
하
시
렵
니
까
?
>>> ssList = ss.split()
>>> ssList
['안녕하시렵니까?']
>>> ssList = list(ss)
>>> ssList
['안', '녕', '하', '시', '렵', '니', '까', '?']
>>> ssList = ssList[::-1]
>>> ssList
['?', '까', '니', '렵', '시', '하', '녕', '안']
>>> newSS = "".join(ssList)
>>> newSS
'?까니렵시하녕안'

```

---

### MISSON

1. 텍스트 파일 뷰어 만들기

   메뉴 [파일] → [열기] 에서 텍스트 파일 선택

   선택된 파일을 화면에 출력 (Text 위젯 사용)

   파일의 내용을 변경

   메뉴 [파일] → [저장]을 선택하여 파일 저장

   (선택) 메뉴에서 [편집] → [바꾸기] 기능 구현

   (선택) 메뉴에서 [편집] → [복사] , [붙여넣기] 기능 구현

2. p.322 10번에 다음 기능 추가

3. p.325 그린판 만들기

   메뉴에 [도형] → [선], [원] 추가

   선을 선택하면 선이 그려지고, 원을 선택하면 원 그려지기

```python
#Code05-07 mission05-01.py
from tkinter import messagebox
from tkinter.simpledialog import *
from tkinter.filedialog import *
import os

## 전역변수 선언부 ##
fDir = None

## 함수 선언부 ##
def selectFile() :
    global fDir
    filename = askopenfilename(parent = window, filetypes = (("TXT파일", "*.txt;*.ini"), ("모든파일", "*.*")))

    if str(filename) == "" :
        messagebox.showinfo("Error", "파일이 선택되지 않았습니다")
        return
    label.configure(text = "선택한 파일 이름 : " + str(filename).split("/")[-1])
    fDir = str(filename)
    readFile(str(filename))

def readFile(filename) :
    text.delete(1.0, END)
    text.insert("end", open(filename, "r").read())

def saveFile():
    global fDir
    outFp = open(fDir, "w")
    outFp.write(text.get(1.0, END)[:-1])
    outFp.close()

## 메인 코드 ##
if __name__ == '__main__':
    window = Tk()
    window.title("메모장 (ver 0.01)")
    window.geometry("500x320")
    window.resizable(width = True, height = True)

    #메뉴 생성
    mainMenu = Menu(window)
    window.config(menu = mainMenu)

    fileMenu = Menu(mainMenu)
    editMenu = Menu(mainMenu)
    mainMenu.add_cascade(label = "파일", menu = fileMenu)
    mainMenu.add_cascade(label = "편집", menu = editMenu)

    fileMenu.add_cascade(label = "열기", command = selectFile)
    fileMenu.add_cascade(label = "저장", command = saveFile)

    editMenu.add_command(label = "바꾸기", command = None)
    editMenu.add_command(label = "복사", command = None)
    editMenu.add_command(label = "붙여넣기", command = None)

    label = Label(window, text = "[파일] → [열기] 에서 파일을 선택해주세요")
    label.pack()

    #text 위젯 생성
    text = Text(window)
    text.pack()
    window.mainloop()

```

```python
#Code05-07 mission05-02.py
from tkinter import messagebox
from tkinter.simpledialog import *
from tkinter.filedialog import *
import os

## 전역변수 선언부 ##
photo = ""

## 함수 선언부 ##
def loadImg(fileDir) :
    global photo
    photo = PhotoImage(file=fileDir)
    pLabel.configure(image=photo)
    pLabel.photo = photo
    print("load " + photo["file"])

def selectFile() :
    filename = askopenfilename(parent = window, filetypes = (("GIF파일", "*.gif;*.raw"), ("모든파일", "*.*")))

    if str(filename) == "" :
        messagebox.showinfo("Error", "파일이 선택되지 않았습니다")
        return
    label.configure(text = "선택한 파일 이름 : " + str(filename).split("/")[-1])

    loadImg(str(filename))

def zoomIn() :
    global photo

    if label["text"] == "[파일] → [사진 선택] 에서\n사진을 선택해주세요" :
        messagebox.showinfo("Error", "사진을 선택해주세요")
        return
    value = askinteger("확대배수", "확대할 배수를 입력하세요 (2~8)", minvalue = 1, maxvalue = 8)

    try :
        photo = photo.zoom(value, value)
        pLabel.configure(image=photo)
        pLabel.photo = photo

    except :
        messagebox.showinfo("Error", "배수가 입력되지 않았습니다")
        return


def zoomOut() :
    global photo
    if label["text"] == "[파일] → [사진 선택] 에서\n사진을 선택해주세요" :
        messagebox.showinfo("Error", "사진을 선택해주세요")
        return

    value = askinteger("축소배수", "축소할 배수를 입력하세요 (2~8)", minvalue = 1, maxvalue = 8)

    try :
        photo = photo.subsample(value, value)
        pLabel.configure(image=photo)
        pLabel.photo = photo

    except :
        messagebox.showinfo("Error", "배수가 입력되지 않았습니다")
        return

## 메인 코드 ##
if __name__ == '__main__':
    window = Tk()
    window.title("GIF 사진 뷰어 (ver 0.01)")
    window.geometry("500x320")
    window.resizable(width = True, height = True)

    #메뉴 생성
    mainMenu = Menu(window)
    window.config(menu = mainMenu)

    fileMenu = Menu(mainMenu)
    effectMenu = Menu(mainMenu)
    mainMenu.add_cascade(label = "파일", menu = fileMenu)
    mainMenu.add_cascade(label = "이미지 효과", menu = effectMenu)

    fileMenu.add_cascade(label = "사진 선택", command = selectFile)

    effectMenu.add_command(label = "확대하기", command = zoomIn)
    effectMenu.add_command(label = "축소하기", command = zoomOut)

    #사진과 사진 파일명 출력 객체 생성
    photo = PhotoImage(file = "")
    pLabel = Label(window, image = photo)
    pLabel.pack(expand = 1, anchor = CENTER)

    label = Label(window, text = "[파일] → [사진 선택] 에서\n사진을 선택해주세요")
    label.pack()

    window.mainloop()

```

```python
#Code05-07 mission05-03.py
## 그림판 만들기 ##
from tkinter import *
from tkinter.colorchooser import *
from tkinter.simpledialog import *
import random

## 함수 선언 부분 ##
def mouseClick(event) :
    global x1, y1, x2, y2
    x1 = event.x
    y1 = event.y

def mouseDrop(event) :
    global x1, y1, x2, y2, penWidth, penColor
    x2 = event.x
    y2 = event.y
    canvas.create_line(x1, y1, x2, y2, width = penWidth, fill = penColor)

def getColor() :
    global penColor
    color = askcolor()
    penColor = color[1]

def getWidth() :
    global penWidth
    penWidth = askinteger("선 두께", "선 두께(1~10)를 입력하세요", minvalue = 1, maxvalue = 10)

def drawLine() :
    global x1, y1, x2, y2, penWidth, penColor
    x1, y1, x2, y2 = getRandomPoint(), getRandomPoint(), getRandomPoint(), getRandomPoint()
    print(x1, y1, x2, y2)
    canvas.create_line(x1, y1,x2, y2, width=penWidth, fill=penColor)

def getRandomPoint() :
    return random.randint(0, 300)

def drawOval() :
    global x1, y1, x2, y2, penWidth, penColor
    x1, y1, x2, y2 = getRandomPoint(), getRandomPoint(), getRandomPoint(), getRandomPoint()
    print(x1, y1, x2, y2)
    canvas.create_oval(x1, y1,x2, y2, fill = penColor, outline = penColor, width = penWidth)

## 전역 변수 선언 부분 ##
window = None
canvas = None
x1, y1, x2, y2 = None, None, None, None
penColor = "black"
penWidth = 5

## 메인 코드 부분 ##
if __name__ == '__main__':
    window = Tk()
    window.title("그림판 (ver 0.01)")
    canvas = Canvas(window, height = 300, width = 300)
    canvas.bind("<Button-1>", mouseClick)
    canvas.bind("<ButtonRelease-1>", mouseDrop)
    canvas.pack()

    mainMenu = Menu(window)
    window.config(menu = mainMenu)

    fileMenu = Menu(mainMenu)
    mainMenu.add_cascade(label = "설정", menu = fileMenu)
    fileMenu.add_command(label = "선 색상 선택", command = getColor)
    fileMenu.add_separator()
    fileMenu.add_command(label = "선 두께 설정", command = getWidth)

    figureMenu = Menu(mainMenu)
    mainMenu.add_cascade(label = "도형", menu = figureMenu)
    figureMenu.add_command(label = "선", command = drawLine)
    figureMenu.add_command(label = "원", command = drawOval)

    window.mainloop()
```
